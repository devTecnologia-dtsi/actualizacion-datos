<!-- login form -->
<form class="my-10 space-y-6 " [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="text-center">
        <h2 class="mb-1 md:text-xs font-semibold text-gray-700 dark:text-white">
            Apreciado usuario <span class="institucional"></span>
        </h2>
        <p class="text-sm text-gray-400 dark:text-night-200">Ingresa los siguientes datos para
            continuar.</p>
    </div>
    <!-- <button
      type="button"
      routerLink="/dashboard"
      class="flex w-full items-center justify-center rounded-md border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 hover:bg-gray-50 dark:border-night-500 dark:bg-night-700 dark:text-night-200 dark:hover:bg-night-600">
      <svg-icon src="assets/icons/google-logo.svg" [svgClass]="'h-6 w-6 mr-2'"> </svg-icon>
      Log in with Google
    </button> 
    <div
      class="my-4 flex items-center before:mt-0.5 before:flex-1 before:border-t before:border-gray-300 after:mt-0.5 after:flex-1 after:border-t after:border-gray-300 dark:before:border-night-500 dark:after:border-night-500">
      <p class="mx-4 mb-0 text-center text-sm text-gray-400 dark:text-night-400">or</p>
    </div>
-->
    <div class="space-y-3 text-left">
        <div class="form__group">
            <div class="relative">
                <select id="tipoDoc"
                    class="shadow border rounded w-full py-2 px-3 bg-white text-gray-700 leading-tight focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 focus:ring-opacity-50"
                    formControlName="tipoDoc" autocomplete="false">
                    <option value="CC">Cédula de Ciudadanía</option>
                    <option value="CE">Cédula de Extranjería</option>
                    <option value="TI">Tarjeta de Identidad</option>
                    <option value="PS">Pasaporte</option>
                    <option value="CA">Certificado Cabildo</option>
                    <option value="CR">Contraseña Registraduría</option>
                    <option value="PC">Pasaporte Colombiano</option>
                    <option value="PE">Pasaporte Extranjero</option>
                    <option value="PT">Permiso Protección Temp</option>
                </select>
                <label for="tipoDoc"
                    class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-white px-2 text-sm text-gray-500 duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary-500 dark:bg-night-700 dark:text-night-200">
                    Tipo de documento
                </label>
                <div class="text-red-500 text-xs italic mt-2" *ngIf="validacion('tipoDoc')">
                    {{errortipoDoc}}
                </div>
            </div>
        </div>
        <div class="form__group">
            <div class="relative">
                <input [type]="tipo ? 'text' : 'password'" id="documento"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 focus:ring-opacity-50"
                    formControlName="documento" autocomplete="false" />
                <label for="documento"
                    class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-white px-2 text-sm text-gray-500 duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary-500 dark:bg-night-700 dark:text-night-200">
                    Documento de identidad
                </label>
                <span class="absolute top-2.5 right-5 cursor-pointer text-gray-400 dark:text-night-300"
                    (click)="cambiarTipoInput()">
                    <svg-icon [src]="!tipo ? 'assets/icons/outline/eye-off.svg' : 'assets/icons/outline/eye.svg'"
                        [svgClass]="'h-5 w-5'">
                    </svg-icon>
                </span>
                <div class="text-red-500 text-xs italic mt-2" *ngIf="validacion('documento')">
                    {{errorDocumento}}
                </div>
            </div>
        </div>
        <div class="form__group">
            <div class="relative">
                <input type="date"
                    class="shadow appearance-none border py-2 pr-5 w-full rounded-md focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 focus:ring-opacity-50"
                    formControlName="nacimiento" autocomplete="false" />
                <label for="nacimiento"
                    class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-white px-2 text-sm text-gray-500 duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary-500 dark:bg-night-700 dark:text-night-200">
                    Fecha de nacimiento
                </label>
                <!-- shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline -->
                <!-- [(ngModel)]="selectedDate" [min]="minDate" [max]="maxDate" /> -->
                <div class="text-red-500 text-xs italic mt-2" *ngIf="validacion('nacimiento')">
                    {{errorNacimiento}}
                </div>
            </div>

        </div>
        <div class="form__group">
            <div class="relative">
                <input type="date"
                    class="shadow appearance-none border py-2 pr-5 w-full rounded-md focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 focus:ring-opacity-50"
                    formControlName="expedicion" autocomplete="false" />
                <label for="expedicion"
                    class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-white px-2 text-sm text-gray-500 duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary-500 dark:bg-night-700 dark:text-night-200">
                    Fecha de expedición del documento
                </label>
                <!-- shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline -->
                <!-- [(ngModel)]="selectedDate" [min]="minDate" [max]="maxDate" /> -->
                <div class="text-red-500 text-xs italic mt-2" *ngIf="validacion('expedicion')">
                    {{errorExpedicion}}
                </div>
            </div>
        </div>
    </div>
    <div class="flex items-center justify-between space-x-3">
        <div class="flex items-center">
            <div class="relative inline-block w-16 mr-6 align-middle select-none">
                <input id="politica" name="politica" type="checkbox" formControlName="politica"
                    class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer" />
                <label for="politica"
                    class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 border border-gray-400 cursor-pointer">
                </label>
            </div>
            <label for="politica" class="block text-sm text-gray-400 text-justify dark:text-night-200">
                * He leído, he sido informado(a), y autorizo a UNIMINUTO el tratamiento de mis datos personales
                para los fines previamente comunicados. ¿Aceptas la <a class="underline"
                    href="https://portalweb-uniminuto.s3.amazonaws.com/activos_digitales/Acuerdo+No+397+Actualiza+y+Aprueba+Politica+de+Tratamiento+de+Informaci%C3%B3n.pdf">
                    política de tratamiento de datos?
                </a>
                <div class="text-red-500 text-xs italic mt-2" *ngIf="validacion('politica')">
                    {{errorPolitica}}
                </div>
            </label>
        </div>

        <!-- 
        <div class="text-sm">
            <a routerLink="/auth/forgot-password" class="font-medium text-primary-500 hover:text-primary-400">
                Forgot your password?
            </a>
        </div> -->
    </div>
    <!-- Submit Button -->
    <button
        [class]="(form.invalid) 
        ? 'bg-blue-100 text-white font-bold group relative mb-10 flex w-full justify-center rounded-md border py-2 px-4 border-transparent pointer-events-none' 
        : 'group relative mb-10 flex w-full justify-center rounded-md border border-transparent bg-primary-500 py-2 px-4 text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 hover:bg-primary-400'"
        [disabled]="form.invalid">
        Actualiza tus datos
    </button>

    <hr class="my-5 pb-6">
    <!-- <div class="text-center">
        <a href="auth/recuperarCorreo" class="bg-blue-500 hover:bg-blue-600 text-white rounded px-10 py-2">Consulta tu 
            correo institucional
        </a>
    </div> -->
    <div [hidden]="!error">
        <small>Login incorrecto</small>
    </div>
    <!-- Loader en pantalla completa -->
    <div *ngIf="isLoading" class="fixed inset-0 bg-gray-700 bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white p-6 rounded-lg shadow-lg flex flex-col items-center">
            <div class="w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4"></div>
            <p class="text-lg font-semibold text-gray-700">Validando datos...</p>
        </div>
    </div>
</form>